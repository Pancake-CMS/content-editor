
<script>
    ContentEditorBehavior = {
        properties: {
            isContentMode: {
                type: Boolean,
                value: false,
                notify: true
            },

            parentId: {
                type: String,
                notify: true
            },

            contentValues: {
                type: Object,
                value: {},
                notify: true
            }
        },

        ready: function() {
            var contentDivs = Polymer.dom(this.root).querySelectorAll('[is-content]');

            for(var i = 0; i < contentDivs.length; i++) {
                var selector = '[parent-id=' + this.parentId + '] [content-id=' + contentDivs[i].getAttribute('content-id') + ']',
                    mode = contentDivs[i].getAttribute('is-content');

                this.contentValues[contentDivs[i].getAttribute('content-id')] = "";

                if(mode == 'inline') {
                    tinymce.init({
                        selector: selector,
                        inline: true,
                        toolbar: 'undo redo',
                        menubar: false,
                        init_instance_callback: function (editor) {
                            editor.on('blur', function (e) {
                                console.log('Editor was blurred!', e);
                            });
                        }
                    });
                } else if(mode == 'wsywig') {
                    tinymce.init({
                        selector: selector,
                        height: 200,
                        menubar: false,
                        plugins: [
                            'advlist autolink lists link image charmap print preview anchor',
                            'searchreplace visualblocks code fullscreen',
                            'insertdatetime media table contextmenu paste code'
                        ],
                        toolbar: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image'
                    });
                } else if(mode == 'inline-more') {
                    tinymce.init({
                        selector: selector,
                        theme: 'inlite',
                        plugins: 'image table link paste contextmenu textpattern autolink',
                        insert_toolbar: 'quickimage quicktable',
                        selection_toolbar: 'bold italic | quicklink h2 h3 blockquote',
                        inline: true,
                    });
                }
            }
        }
    }
</script>